<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="/static/css/main.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>UniRig Automatic Rigging Service</h1>
            <p class="subtitle">AIë¥¼ í™œìš©í•œ 3D ëª¨ë¸ ìë™ ë¦¬ê¹… ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì •ì  3D ëª¨ë¸ì„ ì—…ë¡œë“œí•˜ë©´ ìë™ìœ¼ë¡œ ìŠ¤ì¼ˆë ˆí†¤ê³¼ ìŠ¤í‚¤ë‹ ì›¨ì´íŠ¸ê°€ ì ìš©ëœ ì• ë‹ˆë©”ì´ì…˜ ì¤€ë¹„ ëª¨ë¸ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
        </header>

        <main>
            <section class="upload-section">
                <h2>ëª¨ë¸ ì—…ë¡œë“œ</h2>
                <form id="uploadForm" enctype="multipart/form-data">
                    <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                        <input type="file" id="fileInput" name="file" 
                               accept="{% for fmt in supported_input_formats %}{{ fmt }}{% if not loop.last %},{% endif %}{% endfor %}" 
                               style="display: none;" onchange="updateFileName()">
                        <div class="upload-content">
                            <div class="upload-icon">ğŸ“</div>
                            <p>í´ë¦­í•˜ì—¬ 3D ëª¨ë¸ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”</p>
                            <p class="supported-formats">
                                ì§€ì› í˜•ì‹: {% for fmt in supported_input_formats %}{{ fmt }}{% if not loop.last %}, {% endif %}{% endfor %}
                            </p>
                            <p id="fileName" class="selected-file"></p>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>ì„¤ì •</h3>
                        <div class="form-group">
                            <label for="output_format">ì¶œë ¥ í˜•ì‹:</label>
                            <select name="output_format" id="output_format">
                                {% for fmt in supported_output_formats %}
                                <option value="{{ fmt.replace('.', '') }}"{% if fmt == '.glb' %} selected{% endif %}>
                                    {{ fmt.upper().replace('.', '') }}{% if fmt == '.glb' %} (ì¶”ì²œ){% endif %}
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="high_quality" value="true">
                                <span class="checkmark"></span>
                                ê³ í’ˆì§ˆ ëª¨ë“œ (ì²˜ë¦¬ ì‹œê°„ ì¦ê°€)
                            </label>
                        </div>
                        
                        <button type="submit" class="submit-btn">ë¦¬ê¹… ì‹œì‘</button>
                    </div>
                </form>
                
                <div class="progress" id="progress">
                    <div class="progress-content">
                        <div class="spinner"></div>
                        <h3>ì²˜ë¦¬ ì¤‘...</h3>
                        <p>AIê°€ ëª¨ë¸ì„ ë¶„ì„í•˜ê³  ìŠ¤ì¼ˆë ˆí†¤ì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
                    </div>
                </div>
                
                <div class="result" id="result"></div>
            </section>

            <section class="info-section">
                <div class="info-grid">
                    <div class="info-card">
                        <h3>ì‚¬ìš©ë²•</h3>
                        <ol>
                            <li>3D ëª¨ë¸ íŒŒì¼({% for fmt in supported_input_formats %}{{ fmt }}{% if not loop.last %}, {% endif %}{% endfor %})ì„ ì—…ë¡œë“œí•©ë‹ˆë‹¤</li>
                            <li>ì¶œë ¥ í˜•ì‹ê³¼ í’ˆì§ˆì„ ì„ íƒí•©ë‹ˆë‹¤</li>
                            <li>ì²˜ë¦¬ê°€ ì™„ë£Œë˜ë©´ ë¦¬ê¹…ëœ ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤</li>
                        </ol>
                    </div>
                    
                    <div class="info-card">
                        <h3>API ì‚¬ìš©ë²•</h3>
                        <pre><code># curlì„ ì‚¬ìš©í•œ ì˜ˆì‹œ
curl -X POST "http://localhost:8000/rig/" \
     -F "file=@your_model.obj" \
     -F "output_format=glb" \
     --output rigged_model.glb</code></pre>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>Â© 2025 UniRig Automatic Rigging Service. Powered by AI.</p>
        </footer>
    </div>

    <script src="/static/js/main.js"></script>
</body>
</html>